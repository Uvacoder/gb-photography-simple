{"version":3,"file":null,"sources":["/Users/danieldestefanis/Documents/local/graham-buss/src/js/main.js"],"sourcesContent":["\n(function ($) {\n  'use strict'\n\n  $('.gallery').magnificPopup({\n    delegate: 'img',\n    type: 'image',\n    removalDelay: 300,\n    mainClass: 'mfp-with-fade',\n    gallery: {\n      enabled: true,\n      preload: [0, 2],\n      navigateByImgClick: true,\n    }\n  });\n\n  $('.nav-toggle').on('click', function(e) {\n    e.preventDefault();\n\n    $('.nav').toggleClass('is-visible');\n  });\n\n  $(document).on('ready', function() {\n\n    // Initiate objectFill Polyfill\n    $(function () { objectFitImages() });\n\n    var winHeight = $(window).height(), \n        docHeight = $(document).height(),\n        progressBar = $('progress'),\n        max, value;\n\n    $(\".gallery__image\").unveil(200, function() {\n\n      // Update the document height when our images are loaded in.\n      $(this).load(function() {\n        docHeight = $(document).height();\n      });\n    });\n\n    $(document).on('scroll', function(){\n      max = docHeight - winHeight;\n      progressBar.attr('max', max);\n\n      value = $(window).scrollTop();\n      progressBar.attr('value', value);\n    });\n  });\n\n  if ($(\".gallery\").length) {\n    var $stickyNav = $('.sticky-nav');\n\n    var waypoint = new Waypoint({\n      element: document.getElementById('album-cover__type'),\n      handler: function(direction) {\n        if (direction === 'down') {\n          $stickyNav.addClass('is-visible');\n        }\n        else if (direction === 'up') {\n          $stickyNav.removeClass('is-visible');\n        }\n      }\n    })\n\n    var waypoint = new Waypoint({\n      element: document.getElementById('next-album'),\n      handler: function(direction) {\n        if (direction === 'down') {\n          $stickyNav.addClass('album-finished');\n        }\n        else if (direction === 'up') {\n          $stickyNav.removeClass('album-finished');\n        }\n      }\n    })\n  }\n\n  // Barba Transitions\n  // var Homepage = Barba.BaseView.extend({\n  //   namespace: 'homepage',\n  //   onEnter: function() {\n  //   },\n  //   onEnterCompleted: function() {\n  //   },\n  //   onLeave: function() {\n  //   },\n  //   onLeaveCompleted: function() {\n  //   }\n  // });\n  // // Initialize the view.\n  // Homepage.init();\n\n  // var Work = Barba.BaseView.extend({\n  //   namespace: 'work',\n  //   onEnter: function() {\n  //   },\n  //   onEnterCompleted: function() {\n  //   },\n  //   onLeave: function() {\n  //   },\n  //   onLeaveCompleted: function() {\n  //   }\n  // });\n  // // Initialize the view.\n  // Work.init();\n\n  // // var HomeTransition = Barba.BaseTransition.extend({\n  // //   start: function() {\n  // //     Promise\n  // //       .all([this.newContainerLoading, this.fadeOut()])\n  // //       .then(this.fadeIn.bind(this));\n  // //   },\n\n  // //   fadeOut: function() {\n  // //     return $(this.oldContainer).animate({ opacity: 0 }).promise();\n  // //   },\n\n  // //   fadeIn: function() {\n  // //     var _this = this;\n  // //     var $el = $(this.newContainer);\n  // //     var $heroTitle = $el.find('.subhero-content');\n  // //     var $heroImage = $el.find('.hero-image');\n  // //     var $secondHeroImage = $el.find('.hero-image--second');\n  // //     var $callout = $el.find('.callout');\n\n  // //     $(this.oldContainer).hide();\n\n  // //     // $el.css({\n  // //     //   visibility : 'visible',\n  // //     //   opacity : 0\n  // //     // });\n\n  // //     $el.css({'visibility': 'visible'});\n\n  // //     $callout.find('.callout').css({\n  // //       'scale' : 'scaleX(0)'\n  // //     });\n\n  // //     $heroImage.find('.hero-image').css({\n  // //       'opacity' : '0'\n  // //     });\n\n  // //     $heroTitle.find('.subhero-content').css({\n  // //       'opacity' : '0'\n  // //     });\n\n  // //     $callout.animate({ 'transform' : 'scaleX(1)' }, 600, function() {\n  // //       $secondHeroImage.animate({ 'opacity' : '1' }, 500);\n  // //       $heroImage.animate({ 'opacity' : '1' }, 400);\n  // //       $callout.animate({ 'opacity' : '1' }, 400);\n  // //       _this.done();\n  // //     });\n  // //   }\n  // // });\n\n  // var HideShowTransition = Barba.BaseTransition.extend({\n  //   start: function() {\n  //     this.newContainerLoading.then(this.hideShow.bind(this));\n  //   },\n\n  //   hideShow: function() {\n  //     //this.oldContainer.style.visibility = 'hidden';\n  //     $(this.oldContainer).animate({ opacity: 0 }, 400);\n  //     this.newContainer.style.visibility = 'visible';\n  //     document.body.scrollTop = 0;\n\n  //     this.done();\n  //   }\n  // });\n\n  // var HomeTransition = Barba.BaseTransition.extend({\n  //   start: function() {\n  //     this.newContainerLoading.then(this.hideShow.bind(this));\n  //   },\n\n  //   hideShow: function() {\n  //     var _this = this;\n  //     var $el = $(this.newContainer);\n  //     var $heroTitle = $el.find('.subhero-content');\n  //     var $heroImage = $el.find('.hero-image');\n  //     var $secondHeroImage = $el.find('.hero-image--second');\n  //     var $callout = $el.find('.callout');\n\n  //     //this.oldContainer.style.visibility = 'hidden';\n  //     $(this.oldContainer).animate({ opacity: 0 }, 400);\n  //     this.newContainer.style.visibility = 'visible';\n  //     document.body.scrollTop = 0;\n\n  //     $callout.find('.callout').css({\n  //       'scale' : 'scaleX(0)'\n  //     });\n\n  //     $heroImage.find('.hero-image').css({\n  //       'opacity' : '0'\n  //     });\n\n  //     $heroTitle.find('.subhero-content').css({\n  //       'opacity' : '0'\n  //     });\n\n  //     $callout.animate({ 'transform' : 'scaleX(1)' }, 600, function() {\n  //       $secondHeroImage.animate({ 'opacity' : '1' }, 500);\n  //       $heroImage.animate({ 'opacity' : '1' }, 400);\n  //       $callout.animate({ 'opacity' : '1' }, 400);\n  //       _this.done();\n  //     });\n  //   }\n  // });\n\n  // Barba.Pjax.getTransition = function() {\n  //   var transitionObj;\n\n  //   if (Barba.HistoryManager.currentStatus().namespace === 'homepage') {\n  //     transitionObj = HomeTransition;\n  //   }\n  //   else {\n  //     transitionObj = HideShowTransition;\n  //   }\n\n  //   return transitionObj;\n  // };\n\n  // Barba.Pjax.start();\n\n  // Carousel\n  if ($('.section--work').length) {\n    var sliderDotAmount = 3;\n    var $feature = $('.section--work');\n\n    // Loop through in case we want multiple sliders.\n    $feature.each(function() {\n      var $this = $(this);\n      var $slider = $this.find('.slider');\n      var dotElements = $this.find('.slider__dot');\n      var indicatorElement = $this.find('.slider__indicator');\n      var recentWorkItem = $this.find('.recent-work-list li');\n      var activeSlide;\n\n      // Clicking on the items will update the carousel.\n      dotElements.on('click', function(e) {\n        e.preventDefault();\n        var dotCTX = $(this);\n        UpdatePosition(dotCTX);\n      });\n\n      // Hover on recent work items will update the carousel.\n      recentWorkItem.hover(function() {\n        var dotCTX = $(this);\n        UpdatePosition(dotCTX);\n      })\n\n      // Updates the slider to move to the active position.\n      function UpdatePosition(dotCTX) {\n        var currentPosition = $slider.attr('data-pos');\n        var newPosition = dotCTX.attr('data-pos');\n        var newDirection = newPosition > currentPosition ? 'right' : 'left';\n        var currentDirection = newPosition < currentPosition ? 'right' : 'left';\n        var $sliderSlide = $slider.find('.slider__slide');\n\n        if (dotCTX.attr('data-pos') != currentPosition) {\n          indicatorElement.removeClass('slider__indicator--' + currentDirection);\n          indicatorElement.addClass('slider__indicator--' + newDirection);\n          $slider.attr('data-pos', newPosition);\n          activeSlide = $slider.find('.is-active');\n          activeSlide.removeClass('is-active').addClass('is-hidden');\n\n          activeSlide.delay(1200).queue(function() {  // Wait for 1 second.\n            $(this).removeClass('is-hidden').dequeue();\n          });\n\n          $sliderSlide.each(function() {\n\n            if ($(this).attr('data-pos') === newPosition) {\n              $(this).addClass('is-active');\n            }\n          });\n        }\n      }\n    });\n  }\n\n})(jQuery);\n"],"names":["$","magnificPopup","on","e","preventDefault","toggleClass","document","max","value","winHeight","window","height","docHeight","progressBar","unveil","this","load","attr","scrollTop","length","$stickyNav","Waypoint","getElementById","direction","addClass","removeClass","$feature","each","UpdatePosition","dotCTX","currentPosition","$slider","newPosition","newDirection","currentDirection","$sliderSlide","find","delay","queue","dequeue","activeSlide","$this","dotElements","indicatorElement","recentWorkItem","hover","jQuery"],"mappings":"0BACA,SAAWA,QAGP,YAAYC,wBACF,WACJ,qBACQ,cACH,kCAEA,WACC,EAAG,uBACO,OAItB,eAAeC,GAAG,QAAS,SAASC,KAClCC,mBAEA,QAAQC,YAAY,kBAGtBC,UAAUJ,GAAG,QAAS,aAGpB,kCAKEK,GAAKC,EAHLC,EAAYT,EAAEU,QAAQC,SACtBC,EAAYZ,EAAEM,UAAUK,SACxBE,EAAcb,EAAE,cAGlB,mBAAmBc,OAAO,IAAK,aAG7BC,MAAMC,KAAK,aACChB,EAAEM,UAAUK,eAI1BL,UAAUJ,GAAG,SAAU,aACjBU,EAAYH,IACNQ,KAAK,MAAOV,KAEhBP,EAAEU,QAAQQ,cACND,KAAK,QAAST,OAI1BR,EAAE,YAAYmB,WACZC,GAAapB,EAAE,cAEJ,IAAIqB,mBACRf,SAASgB,eAAe,6BACxB,SAASC,GACE,SAAdA,IACSC,SAAS,cAEC,OAAdD,KACIE,YAAY,iBAKd,GAAIJ,mBACRf,SAASgB,eAAe,sBACxB,SAASC,GACE,SAAdA,IACSC,SAAS,kBAEC,OAAdD,KACIE,YAAY,wBA0J3BzB,EAAE,kBAAkBmB,OAAQ,IAE1BO,GAAW1B,EAAE,oBAGR2B,KAAK,mBAsBHC,GAAeC,MAClBC,GAAkBC,EAAQd,KAAK,YAC/Be,EAAcH,EAAOZ,KAAK,YAC1BgB,EAAeD,EAAcF,EAAkB,QAAU,OACzDI,EAAiCJ,EAAdE,EAAgC,QAAU,OAC7DG,EAAeJ,EAAQK,KAAK,iBAE5BP,GAAOZ,KAAK,aAAea,MACZL,YAAY,sBAAwBS,KACpCV,SAAS,sBAAwBS,KAC1ChB,KAAK,WAAYe,KACXD,EAAQK,KAAK,gBACfX,YAAY,aAAaD,SAAS,eAElCa,MAAM,MAAMC,MAAM,aAC1BvB,MAAMU,YAAY,aAAac,cAGtBZ,KAAK,WAEZ3B,EAAEe,MAAME,KAAK,cAAgBe,KAC7BjB,MAAMS,SAAS,mBArCrBgB,GALAC,EAAQzC,EAAEe,MACVgB,EAAUU,EAAML,KAAK,WACrBM,EAAcD,EAAML,KAAK,gBACzBO,EAAmBF,EAAML,KAAK,sBAC9BQ,EAAiBH,EAAML,KAAK,0BAIpBlC,GAAG,QAAS,SAASC,KAC7BC,oBACEyB,GAAS7B,EAAEe,QACAc,OAIFgB,MAAM,cACfhB,GAAS7B,EAAEe,QACAc,SAiCpBiB"}